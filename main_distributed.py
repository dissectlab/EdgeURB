import copy
import json
import numpy as np
import optimize_dist
import fix_x2


class bcolors:
    HEADER = '\033[95m'
    OKBLUE = '\033[94m'
    OKCYAN = '\033[96m'
    OKGREEN = '\033[92m'
    WARNING = '\033[93m'
    FAIL = '\033[91m'
    ENDC = '\033[0m'
    BOLD = '\033[1m'
    UNDERLINE = '\033[4m'


if __name__ == '__main__':

    tau = 1
    method = ["", "x", "opt"]
    energy = []
    mAp = []
    utility = []
    latency = []
    succ = []
    hist_u = []
    number = 16
    edge = 4
    f = open(f'setting_{edge}_{number}.json')
    data = json.load(f)

    i = 0
    d = data["d"]
    s = data["s"]
    p = data["p"]
    v = data["v"]
    c = data["c"]
    m = data["m"]
    snr = data["snr"]
    co_map = data["co_map"]
    hist_cost = []
    hist_energy = []
    hist_map = []
    hist_fail = []
    hist_relation_cost = []
    for i in range(0, 1):
        w = 8
        b = data["b"][i]
        scale = data["scale"][i]
        o = [[1 for j in range(edge)] for i in range(number)]
        sum_snr = []
        for j in range(number):
            sum_snr.append(np.average([snr[i][j][k] for k in range(edge)]))
        print(sum_snr)
        it = 0

        # success_, res_avg, cost_avg, cost_energy, cost_map, opt.o
        # i, data, number, edge, tau, alg, w

        success_, res_avg, cc, cost_energy, cost_map, o = fix_x2.worker((i, copy.deepcopy(data), number, edge, tau, "opt", w))

        actions = []
        for idx in range(number):
            for k in range(edge):
                if o[idx][k] == 1:
                    actions.append(k)
        print(actions)

        hist_relation_cost.append(-cc)
        print("o=", o)
        while it <= 10:
            changed = 0
            it += 1
            xx = 0
            for n in sorted(range(len(sum_snr)), key=lambda k: sum_snr[k], reverse=True):  # range(number)
                old_k = None
                for k_ in range(edge):
                    if o[n][k_] == 1:
                        old_k = k_
                cost_edge = optimize_dist.dist_game(i, n, edge, s, o, p, v, snr, m, tau, co_map, d, c, scale, b, w)
                opt_k = cost_edge.index(max(cost_edge))
                print(f"user={n}, opt_k={opt_k}/old_k={old_k}, cost_edge={cost_edge}, it={xx}")
                xx += 1
                for k_ in range(edge):
                    if k_ != opt_k:
                        o[n][k_] = 0
                    else:
                        o[n][k_] = 1
                if old_k != opt_k:
                    changed += 1
            print("o=", o)
            fail, u_edge, cost_edge, i, energy_edge, mAp_edge, latency = optimize_dist.worker((i, o, data, number, edge, tau, "opt", w))
            print(f"cost_edge={np.average(cost_edge)}, fail={fail}")  # 2.1449
            print(f"cost_edge={cost_edge}, energy={energy_edge}")
            print(f"changed={changed}")
            if changed == 0:
                hist_cost.append(round(np.average(cost_edge), 4))
                hist_energy.append(round(np.average(energy_edge), 4))
                hist_map.append(round(np.average(mAp_edge), 4))
                hist_fail.append(fail)
                break
        print("#######################")
        print(f"hist cost={hist_cost}, relax_cost={hist_relation_cost}")
        print(f"hist energy={hist_energy}")
        print(f"hist map={hist_map}")
        print(f"hist fail={hist_fail}")
        print(f"hist fail={np.sum(hist_fail)}")
        print("#######################")

"""
16
######################fix x+y# 2.3197
hist cost=[-2.1561, -2.0521, -2.2165, -1.9433, -2.3243, -2.096, -2.1929, -2.5911, -2.362, -2.5102, -2.3521, -2.725, -2.0006
, -2.0309, -2.3844, -2.1718, -2.1235, -2.4324, -2.6229, -2.5418, -2.8861, -2.4745, -2.3973, -2.5769, -2.4848
,-1.7702, -2.4057, -2.5507, -2.0311, -1.6661, -2.6942, -2.2206, -1.932, -2.6502, -2.2872, -2.3357, -2.2588, -2.2444, -2.5832, -2.7936, -1.7472, -2.6219, -2.4953, -2.3545, -1.6221, -2.7775, -2.187, -2.4762, -2.1384, -2.4952
]

 relax_cost=[2.1138, 1.946, 2.1188, 1.9532, 2.3664, 2.1117, 2.1363, 2.5914, 2.3425, 1.6688, 2.3329, 2.5835, 1.7577
 , 1.9424, 2.3826, 2.1312, 2.0536, 2.4396, 2.5989, 2.5393, 2.789, 2.3192, 2.3695, 2.5359, 2.447
 ,[1.7036, 1.3226, 2.4273, 0.874, 1.5446, 2.6429, 2.1511, 0.7929, 2.5892, 2.2616, 2.3074, 2.1628, 2.2018, 2.5427, 2.7518, 0.4176, 2.5333, 1.6071, 2.1973, 1.4458, 2.6371, 2.0638, 2.438, 2.1309, 2.4716
 
 ]
 
hist energy=[0.0178, 0.0176, 0.0189, 0.0183, 0.0177, 0.0182, 0.0181, 0.0177, 0.0175, 0.0164, 0.018, 0.0162, 0.0188
, 0.0174, 0.0179, 0.0173, 0.0178, 0.0184, 0.0171, 0.0176, 0.0175, 0.0167, 0.0175, 0.0159, 0.0171
,0.0198, 0.0153, 0.0168, 0.0191, 0.0183, 0.0167, 0.0168, 0.0194, 0.0177, 0.0157, 0.0165, 0.0173, 0.0187, 0.0161, 0.0164, 0.0201, 0.0172, 0.0157, 0.0171, 0.0178, 0.0177, 0.0166, 0.0168, 0.0175, 0.0177
]

hist map=[0.3614, 0.3464, 0.3766, 0.3511, 0.3669, 0.3469, 0.3802, 0.3857, 0.3683, 0.3952, 0.3613, 0.3886, 0.3679
, 0.3737, 0.3755, 0.3718, 0.348, 0.3695, 0.376, 0.3966, 0.3917, 0.3849, 0.3657, 0.3706, 0.3815
,0.3479, 0.3964, 0.3769, 0.3657, 0.365, 0.4043, 0.3786, 0.3595, 0.3734, 0.3772, 0.3597, 0.3794, 0.3519, 0.392, 0.3967, 0.3303, 0.3789, 0.3696, 0.3654, 0.3508, 0.3901, 0.3957, 0.39, 0.3617, 0.3818

]
hist fail=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
hist fail=0
#######################opt# 2.3805
hist cost=[-2.2098, -2.0989, -2.3365, -2.0219, -2.4219, -2.1671, -2.2454, -2.6374, -2.4158, -2.5794, -2.4145, -2.7584,
-2.1287, -2.068, -2.4393, -2.2303, -2.1678, -2.5071, -2.6606, -2.61,
-2.8814, -2.5781, -2.4906, -2.6329, -2.4516, -1.8406, -2.4884, -2.6132, -2.1817, -1.7355,
-2.7538, -2.268, -2.0959, -2.6842, -2.2953, -2.3966, -2.331, -2.3221, -2.69, -2.8823
,-1.8166, -2.6742, -2.5929, -2.4261, -1.6136, -2.7782, -2.2087, -2.4852, -2.1768, -2.5218
]
relax_cost=[1.9766, 1.959, 2.285, 1.9423, 2.1044, 2.0187, 2.0948, 2.6026, 1.9653, 1.9737, 2.0215, 2.2818, 1.9075
,1.6886, 2.3106, 2.1906, 1.8567, 2.4187, 2.5957, 2.3846
,2.6836, 2.3914, 2.1535, 2.5708, 2.2173, 1.6637, 2.1551, 2.5005, 1.845, 1.7081
,2.7118, 2.2573, 1.9904, 2.5627, 2.1954, 2.3381, 2.1118, 1.8165, 2.5629, 2.7251
,1.7707, 2.604, 2.5682, 2.2944, 1.5459, 2.483, 2.0127, 2.3493, 1.9133, 2.3676
]
hist energy=[0.0187, 0.0177, 0.0186, 0.0178, 0.018, 0.0195, 0.0182, 0.0175, 0.0187, 0.0168, 0.018, 0.017, 0.0179
, 0.0179, 0.0175, 0.0177, 0.0185, 0.0176, 0.0177, 0.0177
,0.0177, 0.0169, 0.0182, 0.0164, 0.0181, 0.0199, 0.0153, 0.017, 0.0195, 0.0183
0.0171, 0.0171, 0.0188, 0.0184, 0.0164, 0.0169, 0.0173, 0.0188, 0.0159, 0.0165,
0.0201, 0.0178, 0.0156, 0.0175, 0.0179, 0.0181, 0.0167, 0.0173, 0.0183, 0.0173
]
hist map=[0.364, 0.3418, 0.3722, 0.3433, 0.3676, 0.3523, 0.3731, 0.3812, 0.3726, 0.3978, 0.3555, 0.3878, 0.366, 0.369
, 0.3666, 0.3702, 0.351, 0.3602, 0.3726, 0.3914
,0.3855, 0.3854, 0.3693, 0.3711, 0.3803, 0.3469, 0.395, 0.378, 0.3732, 0.3645
,0.4014, 0.375, 0.3601, 0.3781, 0.3759, 0.3591, 0.3758, 0.3508, 0.3873, 0.396,
0.3258, 0.3788, 0.3639, 0.3653, 0.3445, 0.386, 0.3925, 0.3873, 0.3594, 0.3753
]
hist fail=0
cost 2.3805 - game
cost 2.19   - relax
#######################
SNR
21 success 48 cost 2.182 resolution 202
energy= 0.0185 map= 0.3582
cost= [-2.1488, -1.7343, -2.2878, -1.9549, -2.185, -2.1703, -2.1882, -2.5466, -2.2397, -2.3979, -2.2106, -2.281, -1.9961, -2.0683, -2.2011, -2.1661, -2.0503, -2.2168, -2.0401, -2.4131, -2.4068, -2.4415, -2.2922, -2.4491, -2.5586, -1.4093, -2.3432, -2.3393, -1.7925, -1.7129, -2.7118, -1.9851, -1.9832, -2.6593, -1.9027, -2.3601, -2.1602, -1.6019, -2.4144, -2.6459, -1.5169, -2.4841, -2.4927, -2.3978, -1.1971, -2.6098, -1.8609, -2.3939, -2.0853, -2.3944]

"""

"""
24
########################
40 success 44 cost 1.3149 resolution 161
energy= 0.0235 map= 0.3095
cost= [-1.5134, -1.2712, -1.5096, -1.4261, -1.1839, -1.2733, -1.0899, -1.6693, -0.6174, -1.484, -1.4078, -1.5207, -1.3135, -1.3726, -1.3591, -0.8705, -1.8085, -1.0893, -1.4385, -1.1592, -1.4703, -1.6478, -1.3621, -1.1357, -1.2996, -1.4025, -2.0227, -1.574, -1.0656, -0.9729, -1.3625, -1.0331, -1.0464, -1.7018, -1.2398, -1.4567, -1.4881, -1.142, -1.0902, -1.2454, -1.4607, -1.0677, -0.6587, -0.7718, -0.9844, -1.6415, -1.3491, -1.7033, -1.72, -1.2516]
success= [1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
#########################################
56 success 37 cost 1.5947 resolution 173
energy= 0.0218 map= 0.3236
cost= [-1.6471, -1.6785, -1.9955, -1.8208, -1.6524, -1.6102, -1.1119, -1.8489, -1.1531, -1.986, -1.6637, -1.8617, -1.7189, -1.7495, -1.7431, -1.2015, -2.2634, -1.5212, -1.8099, -0.99, -1.4746, -1.6219, -1.5965, -1.612, -1.6261, -1.6719, -2.278, -2.0184, -1.351, -1.4773, -1.6355, -1.1398, -1.025, -2.0219, -1.6238, -1.6943, -1.6319, -1.3223, -1.3657, -1.4067, -1.5692, -0.973, -1.2117, -1.4597, -1.188, -1.3567, -1.3548, -2.1491, -2.1518, -1.6989]
success= [1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1]
########################fix x+y 1.609
hist cost=[-1.6924, -1.6886, -1.8918, -1.5242, -1.6267, -1.787, -1.057, -1.9822, -1.0632, -1.8771
,-1.4938, -1.3073, -1.2068, -1.9744, -1.5849, -1.7771, -1.788, -1.4459, -1.2034, -1.5176
,-1.6956, -1.8433, -1.4756, -1.6939, -1.8321, -1.287, -2.1286, -1.5397, -1.3172, -1.5872
,-1.5734, -1.7819, -1.558, -1.6591, -1.4716, -1.5391, -2.0306, -2.0162, -1.5162, -1.5017
,-1.7553, -1.4526, -0.9855, -1.4793, -1.3271, -1.7032, -1.6194, -2.1324, -1.8755, -1.6199
]

relax_cost=[1.6496, -0.4005, 1.8924, 0.8859, 1.626, 0.7109, -0.9903, 1.9444, -0.1339, 1.7943
,0.7639, -0.6168, 0.0854, 0.9694, 1.5202, 1.0475, 1.6768, -0.2553, 0.2966, 1.4907
,1.6744, 1.6722, -0.7835, 1.6557, 1.7467, 1.2444, 1.9792, 1.5188, 0.6429, 0.6327
,1.2647, 1.7545, 0.6962, 0.8952, 1.1105, 1.6253, 1.6416, 2.0372, 0.06, 0.9448
,0.2721, 1.4753, 0.4042, 1.3615, -0.7617, 0.0765, 1.6612, 2.1123, 1.32, 0.3499
]

hist energy=[0.0208, 0.0223, 0.0197, 0.0223, 0.0216, 0.0198, 0.024, 0.0198, 0.025, 0.0206
,0.0228, 0.0209, 0.0233, 0.0197, 0.0204, 0.0201, 0.02, 0.0212, 0.0224, 0.0216
,0.0207, 0.0206, 0.0215, 0.0213, 0.0196, 0.0222, 0.0185, 0.0212, 0.0246, 0.0217
,0.0206, 0.0209, 0.0216, 0.0209, 0.0224, 0.0219, 0.0186, 0.019, 0.0218, 0.0225
,0.0202, 0.0231, 0.024, 0.0223, 0.0237, 0.0209, 0.0214, 0.0189, 0.0196, 0.0211
]
hist map=[0.3374, 0.3403, 0.3405, 0.3259, 0.3388, 0.3414, 0.3008, 0.3517, 0.3064, 0.3365
,0.3363, 0.332, 0.3082, 0.3509, 0.3531, 0.3458, 0.345, 0.3335, 0.3181, 0.3408
,0.3497, 0.3512, 0.3159, 0.333, 0.3389, 0.3222, 0.3531, 0.3282, 0.3262, 0.3512
,0.3155, 0.3308, 0.3363, 0.3227, 0.3071, 0.3285, 0.348, 0.3452, 0.3158, 0.3364
,0.3508, 0.3286, 0.2924, 0.3179, 0.3225, 0.3326, 0.3234, 0.3543, 0.3447, 0.347
]
hist fail=[0, 0, 0, 0, 0, 0, 1, 0, 0, 0
,1, 0, 0, 0, 0, 0, 0, 0, 0, 0
,0, 0, 0, 0, 0, 0, 0, 0, 0, 0
,1, 0, 0, 0, 0, 0, 1, 0, 0, 0
,0, 0, 0, 0, 0, 0, 0, 0, 0, 0
]
hist fail=6

######################### opt 1.7637
hist cost=[-1.805, -1.7502, -2.0547, -1.9099, -1.6893, -1.8202, -1.321, -2.0826, -1.263, -1.9668, -1.7881, -1.8846
, -1.7409, -1.7987, -1.9127, -1.3402, -2.2699, -1.566, -1.8137, -1.7669, 
-1.8943, -2.0155, -1.7104, -1.7279, -1.8064, -1.7552, -2.3047, -2.112, -1.6054, -1.5603, -1.8084, -1.3873, -1.5057
, -2.0936, -1.6064, -1.8389, -1.9218, -1.4956, -1.4284, -1.6348
,-1.8537, -1.5394, -1.3054, -1.5654, -1.4191, -1.9504, -1.8159, -2.1572, -2.1098, -1.7127
]


relax_cost=[1.5369, 1.6901, 1.9654, 1.8659, 1.6632, 1.5018, 0.3014, 1.9272, 0.3402, 1.6844, 1.7634, 1.7695, 1.4187
, 1.6979, 1.6274, 1.1423, 2.2265, 1.3612, 1.7519, 1.5929, 1.7082, 1.8966, 1.611, 1.6182, 1.6451, 1.6297, 2.1873, 1.8754
, 1.368, 1.5551, 1.7327, 1.234, 1.3762, 2.0279, 1.4018, 1.8074, 1.9199, 1.2261, 1.3938, 1.4347
,1.6329, 1.1624, 1.1462, 1.4281, 0.5094, 1.6495, 1.7993, 2.1566, 1.9225, 1.0997
]

hist energy=[0.0209, 0.0218, 0.0195, 0.0205, 0.0212, 0.0199, 0.0255, 0.0201, 0.0234, 0.0199, 0.0209, 0.0214, 0.0205
, 0.0212, 0.0202, 0.0225, 0.0182, 0.0214, 0.0221, 0.0208
, 0.0212, 0.0206, 0.0213, 0.0226, 0.0218, 0.0215, 0.0186, 0.0198, 0.0225, 0.0221, 0.0213, 0.0209, 0.0227, 0.0198, 0.0209, 0.02, 0.0194, 0.0218, 0.0218, 0.022
,0.0202, 0.0223, 0.0232, 0.0218, 0.023, 0.0205, 0.0209, 0.0189, 0.0192, 0.0216
]

hist map=[0.3354, 0.3316, 0.3482, 0.3379, 0.3321, 0.3387, 0.3219, 0.3531, 0.3038, 0.3304, 0.3499, 0.353, 0.3239, 0.3309
, 0.3411, 0.3222, 0.3554, 0.3239, 0.3395, 0.3467
,0.3365, 0.3419, 0.341, 0.3309, 0.3262, 0.3331, 0.365, 0.3523, 0.3182, 0.3298, 0.3459, 0.3277, 0.3153, 0.3517, 0.3474, 0.3403, 0.3433, 0.329, 0.33, 0.3398
,0.3525, 0.3264, 0.2956, 0.3119, 0.3109, 0.3434, 0.3276, 0.3525, 0.3587, 0.3452
]
hist fail=0
"""
"""
28
########################rnd
88 success 27 cost 1.0314 resolution 150
energy= 0.0252 map= 0.2926
cost= [-1.3477, -1.1736, -1.2898, -0.6423, -1.2708, -0.7782, -1.6297, -1.0227, -1.3636, -0.8926, -1.2435, -1.2173, -0.68, -0.9446, -1.5008, -1.1687, -0.5862, -1.1282, -1.084, -1.2998, -0.5302, -0.5876, -1.0249, -0.9334, -1.0176, -0.7778, -1.4385, -1.5294, -0.7547, -0.7184, -0.5237, -1.4751, -1.0961, -1.1867, -1.0341, -1.0751, -0.7886, -0.7477, -0.9033, -0.9118, -0.5831, -1.0701, -0.7819, -1.2652, -1.5239, -1.1077, -1.3566, -1.1328, -0.8773, -0.5537]
success= [0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0]
#########################snr 
85 success 25 cost 1.3451 resolution 160
energy= 0.0229 map= 0.3055
cost= [-1.8012, -1.6935, -1.186, -0.9558, -1.5681, -1.1071, -1.9743, -1.3975, -1.3024, -1.1354, -1.6875, -1.2971, -0.9114, -1.2867, -1.64, -1.3558, -1.1578, -1.5047, -1.4839, -1.6164, -1.2943, -0.8861, -1.4464, -1.1667, -1.6132, -0.8765, -1.5805, -1.8891, -1.0675, -1.2676, -1.0107, -1.8525, -1.4121, -1.6751, -1.2987, -1.6622, -1.0238, -1.2292, -1.0331, -0.6619, -1.0314, -1.3541, -1.1735, -1.4105, -1.9812, -0.917, -1.6669, -1.5705, -1.2874, -0.8539]
success= [0, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1]
#######################fix x+y 1.1707 
hist cost=[-1.6158, -1.5946, -1.127, -0.4666, -1.306, -0.3782, -1.8236, -1.3199, -1.2222, -1.1921
,-1.2488, -1.4856, -1.0731, -0.944, -1.4519, -1.4941, -0.6551, -1.1943, -1.4508, -0.8888
,-0.9611, -0.5818, -1.2721, -1.1558, -1.6591, -0.5057, -1.6866, -1.8349, -1.0118, -0.9322
,-0.952, -1.7459, -1.15, -1.4852, -1.4303, -1.3085, -0.7327, -0.7471, -1.287, -0.9409   
,-0.5233, -0.8873, -1.3013, -1.2379, -1.8226, -1.1249, -1.6078, -1.4842, -0.2176, -1.0155
]

relax_cost=[1.4408, 1.4923, 1.0815, -0.8249, 0.7287, -0.4986, 1.1892, 0.5705, -0.0867, 0.5898
,0.8462, 1.4142, -0.229, 0.2059, 0.6426, -1.045, 0.3466, 0.1005, 0.6943, -2.0585
,-0.4035, -0.0776, 0.8948, -0.669, 1.6493, -0.0726, 1.1178, 1.7717, 0.2721, 0.2707
,-0.6856, 0.202, -0.1779, 0.368, 0.3341, -0.095, -1.4142, 0.1, 0.7917, -0.8454
,-0.4264, -0.2575, 0.7057, -0.1938, 1.5305, -0.0022, 1.0907, -0.4539, -0.9484, 0.9336
]
hist energy=[0.0223, 0.0222, 0.0237, 0.0298, 0.021, 0.0317, 0.0218, 0.0221, 0.0234, 0.0235
,0.0245, 0.023, 0.0234, 0.0254, 0.0218, 0.0227, 0.0278, 0.0222, 0.0219, 0.0282
,0.0267, 0.0292, 0.0229, 0.0248, 0.0212, 0.0309, 0.0212, 0.0207, 0.0255, 0.0254
,0.0241, 0.0207, 0.0227, 0.0221, 0.0219, 0.0239, 0.0274, 0.0289, 0.0241, 0.0242
,0.0301, 0.0282, 0.0236, 0.0222, 0.0213, 0.0224, 0.0222, 0.0254, 0.0369, 0.0262

]
hist map=[0.3203, 0.32, 0.3058, 0.2917, 0.3097, 0.2953, 0.3463, 0.3117, 0.3207, 0.2915
,0.3229, 0.3393, 0.2975, 0.3008, 0.3317, 0.3321, 0.2956, 0.3097, 0.3338, 0.3179
,0.3005, 0.2774, 0.3091, 0.3065, 0.3216, 0.2958, 0.3328, 0.3401, 0.2944, 0.289
,0.3059, 0.3358, 0.3046, 0.3223, 0.3327, 0.3148, 0.3017, 0.2838, 0.3139, 0.291
0.2744, 0.3055, 0.309, 0.3115, 0.3473, 0.3078, 0.3381, 0.3261, 0.3021, 0.3016

]
hist fail=[1, 0, 0, 0, 0, 1, 0, 0, 1, 1,
,1, 0, 0, 1, 1, 0, 1, 1, 0, 1
,1, 1, 1, 0, 0, 1, 0, 0, 1, 0
,0, 0, 1, 0, 0, 1, 1, 1, 0, 0
,1, 1, 0, 1, 0, 0, 1, 0, 1, 0

]
hist fail=24
#######################opt# 1.495
hist cost=[-1.9269, -1.7007, -1.5564, -1.037, -1.5838, -1.1262, -1.9934, -1.5016, -1.6476, -1.2997
,-1.8088, -1.6218, -1.1649, -1.3339, -1.8436, -1.6411, -1.1105, -1.4713, -1.5579, -1.6258, -1.2603
, -1.0252, -1.6019, -1.3395, -1.7977, -1.1475, -1.8149, -1.9996, -1.373, -1.3034
,-1.1444, -1.8726, -1.3981, -1.8265, -1.4795, -1.7443, -1.202, -1.1783, -1.4674, -1.2627, -1.0147
, -1.462, -1.3768, -1.6415, -2.0495, -1.405, -1.7244, -1.7271, -1.3504, -1.2163
]

relax_cost=[1.6966, 1.6893, 1.2296, 0.5807, 1.5217, 1.0688, 1.776, 1.2624, 1.4896, 1.1512
,1.6904, 1.606, 1.0808, 1.0446, 1.6676, 1.5272, 0.9813, 1.2157, 1.4617, 1.3263, 0.9973, 0.8193
, 1.4485, 1.1028, 1.7939, 0.9593, 1.5667, 1.7067, 1.3026, 1.0264
,0.8291, 1.7041, 1.1873, 1.8145, 1.1048, 1.5325, 1.0568, 0.9189, 1.272
, 0.8816, 0.9407, 1.328, 0.971, 0.7897, 1.9795, 1.0581, 1.5208, 1.5505, 1.1988, 1.1475
]

hist energy=[0.022, 0.0226, 0.0212, 0.0252, 0.0203, 0.025, 0.0215, 0.0223, 0.022, 0.0243
,0.0222, 0.0219, 0.0238, 0.0235, 0.0203, 0.0221, 0.0251, 0.021, 0.0214, 0.0233, 0.0242, 0.0257, 0.0213, 0.0237, 0.022, 0.0257, 0.0209, 0.0205, 0.0244, 0.024
,0.0233, 0.0213, 0.0222, 0.0203, 0.022, 0.0225, 0.0247, 0.0245, 0.024, 0.0234, 0.0262, 0.0248, 0.0232, 0.0218, 0.0203, 0.0217, 0.0219, 0.0227, 0.0239, 0.0259

]

hist map=[0.3393, 0.325, 0.3222, 0.3013, 0.3257, 0.301, 0.3523, 0.3194, 0.3371, 0.3021
,0.3417, 0.3326, 0.2956, 0.3153, 0.3551, 0.3332, 0.3119, 0.3184, 0.331, 0.3366, 0.2999
, 0.2841, 0.3255, 0.3061, 0.3335, 0.3016, 0.3306, 0.346, 0.3148, 0.307
,0.308, 0.339, 0.3129, 0.3417, 0.3304, 0.3276, 0.3085, 0.2904, 0.3208, 0.3019, 0.2865, 0.3142, 0.3023, 0.3296, 0.3532, 0.324, 0.3434, 0.3257, 0.3143, 0.2987

]

hist fail=[0, 0, 0, 0, 0, 0, 0, 0, 0, 0
,0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0
]

hist fail=2

93 success 31 cost 1.0196 resolution 150
energy= 0.0253 map= 0.2919
cost= [-1.2843, -1.0906, -1.2111, -0.5726, -1.224, -0.6577, -1.5871, -0.8497, -1.2182, -0.7834, -1.2478, -1.217, -0.714, -0.766, -1.5005, -1.2149, -0.6341, -0.9758, -1.0986, -1.1811, -0.8802, -0.4669, -1.1954, -0.908, -1.4772, -0.733, -1.3098, -1.5534, -0.8374, -0.7677, -0.6419, -1.3564, -1.1448, -1.1082, -0.9296, -1.4571, -0.756, -0.5924, -0.8841, -0.9461, -0.5889, -1.1192, -0.7915, -1.2952, -1.7006, -1.0242, -1.216, -1.118, -0.7281, -0.4257]
"""

"""
32
#################### snr
146 success 18 cost 1.0705 resolution 152 
energy= 0.0243 map= 0.2919
cost= [-1.1661, -1.2532, -0.7319, -1.5807, -1.1422, -1.4017, -1.3649, -1.1096, -1.1411, -0.8626, -1.1988, -1.3, -0.8892
, -0.7549, -1.5158, -0.7284, -0.6728, -0.842, -1.3573, -1.1669, -1.3671, -0.7318, -0.8576, -1.3128, -1.3771
, -0.266, -0.7328, -1.2999, -1.2177, -1.1375, -1.4917, -1.272, -1.1379, -1.0899, -0.8631, -1.3274, -0.6971
, -1.3095, -0.6783, -1.1936, -0.5722, -0.3334, -0.4075, -1.2339, -1.1779, -1.368, -1.3852, -1.1903, -1.2523, -1.0629
]
success= [0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 1
, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0]
#################################
123 success 19 cost 0.6594 resolution 141 RND
energy= 0.0276 map= 0.2754
cost= [-0.6762, -0.6767, -0.3012, -1.0594, -0.9578, -1.0252, -1.2575, -0.7509, -0.7605, -0.3255, -0.8257, -0.7603, -0.29, -0.2265, -0.8821, -0.5588, -0.0477, -0.2783, -0.9888, -0.6126, -0.957, -0.4082, -0.6839, -0.7596, -0.8686, -0.3099, -0.4163, -0.9662, -0.7951, -0.8172, -1.1203, -0.7412, -0.7798, -0.5355, -0.3378, -0.9048, -0.5213, -0.9027, -0.2502, -0.6045, -0.0649, -0.235, 0.0334, -0.9472, -0.799, -0.7955, -0.8959, -0.9274, -0.6893, -0.706]
success= [1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0]
########################## opt = 1.14856
hist cost=[-1.1051, -1.2486, -0.803, -1.5721, -1.4493, -1.4314, -1.5623, -1.3397, -1.2515, -0.839
,-1.3825, -1.202, -0.6883, -0.8586, -1.5473, -1.1646, -0.6738, -0.8607, -1.4396, -1.2289
,-1.5029, -0.8771, -1.0538, -1.3524, -1.4381, -0.8201, -1.0372, -1.3539, -1.2893, -1.3142
,-1.3864, -1.2576, -1.0314, -1.2161, -0.9099, -1.42, -1.0134, -1.3278, -0.9092, -0.4568
,-0.6883, -0.9446, -0.5329, -1.3179, -1.1981, -1.3983, -1.3003, -1.3981, -1.2325, -0.8014
]

fail = 3 # 1.1298   
hist cost=[-1.0512, -1.2417, -0.766, -1.5718, -1.3843, -1.3721, -1.5884, -1.3086, -1.2268, -0.862
,-1.3507, -1.214, -0.7181, -0.8355, -1.5016, -1.1119, -0.6658, -0.8607, -1.4404, -1.2184
,-1.5087, -0.8626, -1.0615, -1.3598, -1.4373, -0.8201, -1.0593, -1.346, -1.2844, -1.317
,-1.3864, -1.2576, -1.0314, -1.2161, -0.9099, -1.42, -1.0134, -1.3278, -0.9092, -0.4568
,-1.3905, -1.263, -1.0427, -1.2161, -0.9183, -1.4031, -0.9607, -1.3148, -0.9036, -0.4341
,-0.6849, -0.9238, -0.4959, -1.3314, -1.1781, -1.4057, -1.2253, -1.392, -1.2209, -0.8116
]

relax_cost=[0.9501, 1.1408, 0.6171, 1.3904, 1.3156, 1.1335, 1.4808, 1.0884, 0.852, 0.831
,1.1168, 1.1828, 0.9014, 0.7305, 1.3067, 0.5706, 0.4718, 0.7876, 1.4221, 1.164
,1.3308, 0.6265, 0.9698, 1.112, 1.3351, 0.6049, 0.926, 1.2947, 0.9679, 1.2155
,1.2297, 0.9759, 1.0959, 0.9241, 0.7794, 1.0829, 0.977, 1.1579, 0.7652, -0.1203
,0.3552, 0.8011, 0.3706, 1.2226, 1.0432, 1.1664, 1.3198, 1.0808, 1.0065, 0.9266
]


hist energy=[0.0257, 0.0253, 0.0259, 0.0238, 0.0223, 0.0233, 0.0227, 0.0227, 0.0234, 0.0271
,0.0232, 0.0254, 0.0295, 0.0262, 0.0228, 0.0253, 0.0285, 0.0261, 0.0227, 0.0239
,0.0215, 0.0268, 0.026, 0.0245, 0.0239, 0.0264, 0.0253, 0.0232, 0.0235, 0.0241
,0.023, 0.0231, 0.0264, 0.0247, 0.0267, 0.0236, 0.0252, 0.0242, 0.0247, 0.0334
,0.0284, 0.025, 0.0275, 0.0246, 0.0246, 0.0227, 0.0246, 0.0225, 0.0246, 0.0287
]

hist map=[0.2985, 0.3124, 0.2841, 0.3372, 0.3184, 0.3255, 0.3273, 0.3174, 0.3069, 0.292
,0.3134, 0.3113, 0.2897, 0.2886, 0.3234, 0.2969, 0.2859, 0.2795, 0.3153, 0.3061
,0.3181, 0.2966, 0.3018, 0.3036, 0.3146, 0.2934, 0.2923, 0.3204, 0.3139, 0.3191
,0.3084, 0.307, 0.3129, 0.3021, 0.286, 0.319, 0.2921, 0.3098, 0.2868, 0.291
,0.2859, 0.2887, 0.2684, 0.3123, 0.3057, 0.3213, 0.3168, 0.3169, 0.2971, 0.3013
]

hist fail=5
#########################fix = 0.7288
hist cost=[-0.7316, -0.7367, -0.478, -1.3147, -1.0099, -0.7286, -1.4458, -0.8794, -0.9774, -0.1088
,-0.8399, -0.5539, 0.6397, -0.3759, -1.0847, -0.8234, -0.2485, -0.6407, -1.338, -1.0112
,-1.0315, -0.6006, -0.7621, -1.0766, -1.1084, -0.7234, -0.5206, -1.0232, -0.9309, -0.8275
,-0.0874, -0.9373, -0.8097, -1.1118, -0.5832, -1.1083, -0.3582, -0.4285, -0.5286, -0.5246,
0.1454, -0.3356, -0.2696, -0.9091, -0.7088, -1.3393, -0.8572, -1.2854, -0.7593, -0.3517
]
relax_cost=[-0.4712, -0.1372, -0.7809, 0.3992, -0.4304, -2.1765, 0.6971, 0.0178, 0.2788, -1.4387
,0.2067, -1.94, -1.0885, 1.0094, 0.7894, 0.6929, -0.8606, -0.0354, -1.1478, 0.5161
,-0.2602, -0.3475, -0.6631, -2.649, -0.0225, -2.044, -0.1984, 0.6483, 0.45, -0.278
,-2.3748, -0.4008, 0.2795, -0.2593, -0.3785, 0.1145, -2.6794, -0.6482, 0.2748, 0.054
,-0.592, -2.5625, -2.1701, -1.3769, 0.0907, 0.1145, 0.1303, 0.391, 0.1313, -1.7527
]
hist energy=[0.0277, 0.0299, 0.0287, 0.0235, 0.024, 0.0297, 0.022, 0.0257, 0.0243, 0.0351
,0.0255, 0.0345, 0.0454, 0.0296, 0.0255, 0.0272, 0.0322, 0.0266, 0.0224, 0.0243
,0.0236, 0.0286, 0.0273, 0.025, 0.0249, 0.0263, 0.0291, 0.0242, 0.0248, 0.0276
,0.0377, 0.0239, 0.0263, 0.0244, 0.0274, 0.0243, 0.0301, 0.0376, 0.0275, 0.0305
,0.036, 0.0299, 0.0284, 0.0287, 0.0275, 0.0229, 0.0284, 0.0224, 0.0269, 0.0317
]
hist map=[0.2892, 0.2985, 0.2787, 0.322, 0.3013, 0.3053, 0.3227, 0.3001, 0.2895, 0.2878
,0.2915, 0.3111, 0.299, 0.2742, 0.3101, 0.292, 0.2838, 0.2739, 0.3123, 0.2976
,0.2954, 0.2837, 0.285, 0.2957, 0.3009, 0.2918, 0.2869, 0.3028, 0.2991, 0.3087
,0.3036, 0.2976, 0.3042, 0.3, 0.2731, 0.3029, 0.2814, 0.3055, 0.2796, 0.2873
,0.2816, 0.2775, 0.2575, 0.3001, 0.288, 0.3275, 0.3009, 0.3126, 0.2856, 0.2921
]
hist fail=[1, 1, 1, 1, 0, 1, 0, 1, 1, 1
,1, 1, 1, 1, 1, 0, 0, 1, 0, 1
,1, 0, 1, 1, 1, 0, 0, 1, 1, 0
,1, 0, 1, 0, 1, 1, 0, 1, 0, 1
,1, 1, 0, 1, 1, 0, 1, 0, 1, 1
]
hist fail=34
"""